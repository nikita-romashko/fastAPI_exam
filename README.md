# Блог-платформа (Вариант 2)
## Описание проекта
Это **backend-сервис** для блог-платформы, реализующий основные функции работы со статьями, комментариями, категориями и лайками.

Вариант 2: платформа с ролями пользователей (читатель, автор, модератор), поддержкой черновиков и публикаций, с сортировкой по популярности.

### Основные возможности:

- CRUD операции для статей, комментариев и категорий

- Лайки к статьям и сортировка по количеству лайков

- Пагинация и фильтрация статей по категориям и статусу

- Авторизация и аутентификация с ролями

- Логирование действий

- Валидация данных с возвратом понятных ошибок

## Используемые технологии

- python 3.13.2
    - fastapi[standard] 0.115.12
    - sqlalchemy 2.0.41
    - pydantic-settings 2.9.1
    - mysqlclient 2.2.7
    - passlib[bcrypt] 1.7.4
    - pyjwt 2.10.1

## Инструкция по запуску
1. Клонировать репозиторий

2. Создать файл .env на основе .env.example и указать свои значения переменных

3. Создать виртуальное окружение и установить зависимости:

    - `python -m venv venv`
    - `source venv/bin/activate`  # Linux/macOS
    - `venv\Scripts\activate`     # Windows
    - `pip install -r requirements.txt`

4. Настроить базу данных (MySQL)
    - Убедитесь, что база данных с именем, указанным в .env, существует и доступна.

5. Заполнить базу стартовыми данными (посев):
    ```bash 
    python seed.py
    ```
6. Запустить сервер:

    ```bash
    fastapi dev main.py
    API будет доступно по адресу: http://127.0.0.1:8000
    ```

## Описание API
Используется REST API с JSON в теле запросов и ответов

Авторизация через JWT токен в HTTP-заголовке Authorization: Bearer <token>

### Методы:

- GET — получение данных

- POST — создание

- PUT — обновление

- DELETE — удаление

### Документация API доступна по адресу:
http://127.0.0.1:8000/docs (Swagger UI)

## Валидация
- Все входные данные проверяются с помощью Pydantic моделей

- При ошибках валидации возвращается HTTP 400 с описанием ошибки. Например, проверяется корректность id, обязательных полей, формата дат и т.д.

## Роли пользователей и права

| Роль      | Права                                         |
| --------- | ----------------------------------------------|
| Читатель  | Чтение статей, комментарии                    |
| Автор     | Создание/редактирование своих статей          |
| Модератор | Управление всеми статьями и комментариями     |


### Вход в систему осуществляется по логину и паролю. Регистрация доступна через API, но также в базе уже предусмотрены готовые пользователи всех ролей.
Данные пользователей для входа (посев):

- Модератор: email = igori@example.com, password = supersecret123

- Автор: email = ivan@example.com, password = supersecret123

- Читатель: email = maria@example.com, password = supersecret123

## Контакты
Если есть вопросы или предложения, свяжитесь со мной:

Email: romashko.04@mail.ru

Telegram: @nitix9

